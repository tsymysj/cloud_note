用户行为 actionName
查询类型列表      actionName=list
删除类型        actionname=delete
添加/修改类型     actionName=addOrUpadate


一、查询类型列表
    前台
        给导航栏类型管理超链接设置href的属性值
            href="user?actionName=list"
        设置导航栏的高亮值
            后台通过请求与设置menu_page

        接收响应数据
            通过JSTL的if标签，判断类型集合是否存在
                如果不存在，显示对应的提示信息
                存在，JSTL的forEach标签进行遍历
            注：JSTL标签要导入对应的依赖和核心标签库


    后台
        web
           1.获取session作用域中的user对象
           2.调用service层的查询方法，查询当前登录用户的类型集合，返回集合
           3.将类型，列表设置到request请求域中
           4.设置首页动态包含的页面值
           5.请求转发跳转到index.jsp

        service
            1.调用dao层的查询方法，通过用户ID查询类型集合
            2.返回类型集合

        dao
            1.定义sql语句
                String sql = "select typeId,typeName,userId from tb_note_type where userId = ?";
            2.设置参数列表
            3.调用BaseDao的查询方法，返回集合
            4.返回集合


二、删除类型
    前台
        删除按钮绑定点击事件（传递参数：类型ID）
            1.谈出提示框，询问用户是否确认删除
            2.如果确认删除，发送ajax请求后台执行删除，执行删除操作，返回resultInfo对象
                如果删除失败，code=0：提示用户删除失败
                删除成功，code=1：
                    准备
                        表格设置id属性值 id="myTable"
                        表格的父元素div设置id属性值 id="myDiv"
                        表格的每一格tr元素设置id属性值  id="tr_类型ID" （孙环设置每一格tr的id属性值）
                        左侧类型分组的导航列表项li元素，设置id属性值 id="tr_类型ID"
                    1.移除指定的tr记录
                        给table元素设置id属性值：给每一个tr添加id属性值
                        1.通过id属性值，得到表格对象
                        2.得到table元素的子元素tr的数量
                        3.判断tr的数量（判断是否有多条类型记录）
                            如果tr的数量等于2，表示只有一条类型记录，删除整个表格对象，并设置提示内容
                            如果tr数量>2，则删除指定的tr对象

                    2.删除左侧类型分组的导航列表项
                        给li元素设置id属性值
                        通过id选择器获取指定的li元素，并移除

    后台
        web
            1.接收参数（类型id）
            2.调用service的更行操作，返回ResultInfo对象
            3，将ResultInfo对象转换为JSON格式的字符串，相应给ajax的回调函数

        service
            1.判断参数是否为空
            2.调用dao层，通过类型ID查询云记记录的数量
            3.如果数量>0，说明有自己撸，不可删除
                code=0,msg=""该类型存在子记录，不可删除，返回ResultInfo对象
            4.如果不存在子记录，调用dao的更新方法，通过类型ID删除指定的类型记录，返回受影响的行数
            5.判断受影响的行数是否>0
                >0，code-0,msg="删除失败"
            6.返回ResultInfo对象
        dao
            1.通过ID查数量
            2.通过ID删除指定的类型记录，

三、添加/修改类型
    前台：
        准备工作：
            设置隐藏域，并设置id属性值，用来存放类型id
            设置文本框，并设置id属性值，用来存放类型名称
        打开添加模态框
            绑定“提娜佳类型”按钮的点击事件
            1.设置添加模态框的标题
            2.清空摩天狂的文本框与隐藏域的值
            3.打开添加模态框

        打开修改模态框
            1.设置修改模态框的标题
            2.将当前要修改的类型记录对应的id与类型名称，设置到模态框的隐藏域与文本框中
                通过id属性值，得到要修改的tr记录 （id="tr_类型ID"）
                得到tr具体的单元格
                    类型名称    第二个单元格，下标时1，tr的子元素的第二个
                    类型id    第一个单元格，下标时0，tr的子元素的第二个
                将类型id与类型名称赋值给模态框的隐藏域与文本框
            3.利用模态框的id属性值，调用show方法，打开模态框

        模态框的 保存 按钮，绑定点击事件
            添加类型/修改类型
            1.获取参数
                添加操作：类型名称
                修改操作：类型名称，类型ID
            2.判断参数是否为空（类型名称）
                如果为空，提示信息，并return
            3.发送ajax请求后台，执行添加或者修改功能，返回ResultInfo对象（通过类型id是否为空来判断，如果为空，则添加，不为空则为修改）
                判断是否更新成功
                    code=0，表示失败，提示用户
                    code=1，表示成功，执行DOM操作
                        1.关闭模态框
                        2.判断类型ID是否为空
                            为空，执行添加的DOM操作

                            不为空，执行修改的DOM操作
                                1.修改指定tr记录
                                    通过id选择器，得到tr对象
                                    修改tr指定单元格的值

    后台
    web
        1.接收参数（类型名称和ID）
        2.获取session作用域中的user对象，得到用户id
        3.调用service的更新方法，返回ResultInfo对象
        4.将ResultInfo对象转换成JSON格式的字符串，相应给ajax的回调函数

    service
        1.判断参数是否为空（类型名称）
            为空，code=0.msg=xxx，返回resultInfo对象
        2.调用dao层，查询当前登录用户下，类型名称是否唯一，返回0或1
            为空，code=0.msg=xxx，返回resultInfo对象
        3.判断类型ID是否为空
            如果为空，调用dao层的添加方法，返回主键（前台页面需要显示添加成功之后的类型id）
            不为空，调用dao层的修改方法，返回受影响的行数
        4.判断 主键/受影响的行数 是否大于0
            如果>0 ，更新成功 code=1，result = 主键
            <0,更新失败，code=0，msg=xxx
    dao
        查询当前登录用户下，类型名称是否唯一
        添加方法，返回主键
        修改方法，返回受影响的行数